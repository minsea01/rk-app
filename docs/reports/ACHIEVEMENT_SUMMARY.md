# é¡¹ç›®æˆæžœæ€»ç»“

**é¡¹ç›®åç§°**: åŸºäºŽ RK3588 æ™ºèƒ½ç»ˆç«¯çš„è¡Œäººæ£€æµ‹æ¨¡å—è®¾è®¡
**å­¦ç”Ÿ**: ä¸­åŒ—å¤§å­¦
**å®Œæˆæ—¶é—´**: 2025 å¹´ 10 æœˆ
**æœ€åŽæ›´æ–°**: 2025-10-29

---

## ðŸ“‹ é¡¹ç›®è¦æ±‚ vs å®Œæˆæƒ…å†µ

### 1. ç³»ç»Ÿç§»æ¤ï¼ˆUbuntu 20.04 + äº¤å‰ç¼–è¯‘ï¼‰

| è¦æ±‚ | å®Œæˆæƒ…å†µ | è¯æ® |
|------|--------|------|
| Ubuntu 20.04 æž„å»ºçŽ¯å¢ƒ | âœ… å®Œæˆ | `docker/x86-rknn-build.Dockerfile` |
| äº¤å‰ç¼–è¯‘å·¥å…·é“¾ (ARM64) | âœ… å®Œæˆ | `CMakeLists.txt` + `toolchain-aarch64.cmake` |
| RGMII åŒç½‘å¡é©±åŠ¨æ–¹æ¡ˆ | âœ… è®¾è®¡å®Œæˆ | `scripts/setup_network.sh` (å¾…ç¡¬ä»¶éªŒè¯) |
| ä»¥å¤ªç½‘ç›¸æœºé›†æˆ | âœ… å®Œæˆ | `src/capture/GigeSource.cpp` (GStreamer + Aravis) |

**è¿›åº¦**: 95% (ä»…ç¼ºç¡¬ä»¶å®žæœºéªŒè¯)

---

### 2. æ¨¡åž‹ä¼˜åŒ–ï¼ˆYOLO + ONNX â†’ RKNN + INT8 é‡åŒ–ï¼‰

#### æ¨¡åž‹é€‰æ‹©å’Œè®­ç»ƒ
- âœ… YOLO11n æ¨¡åž‹é€‰æ‹©
- âœ… COCO æ•°æ®é›†è®­ç»ƒ
- âœ… æ¨¡åž‹å¾®è°ƒå’Œä¼˜åŒ–

#### æ¨¡åž‹è½¬æ¢æµç¨‹
```
PyTorch (best.pt)
  â†“
ONNX (best.onnx) [å¯¼å‡ºéªŒè¯ âœ…]
  â†“
RKNN (best.rknn) [INT8 é‡åŒ– âœ…]
  â†“
RK3588 NPU éƒ¨ç½² [ä»£ç å®Œå¤‡ âœ…ï¼Œå¾…ç¡¬ä»¶æµ‹è¯•]
```

#### è½¬æ¢å·¥å…·
- âœ… `tools/export_yolov8_to_onnx.py` - å®Œæ•´å®žçŽ°
- âœ… `tools/convert_onnx_to_rknn.py` - å®Œæ•´å®žçŽ°
- âœ… `scripts/compare_onnx_rknn.py` - ç²¾åº¦å¯¹æ¯”éªŒè¯

**è¿›åº¦**: 100% (è½¯ä»¶å®Œæˆï¼Œç¡¬ä»¶å¾…éªŒè¯)

---

### 3. æ£€æµ‹åº”ç”¨å®žçŽ°

#### æ£€æµ‹ç±»åˆ«
- **è¦æ±‚**: > 10 ç±»
- **å®Œæˆ**: **80 ç±»** (COCO å…¨ç±»åˆ«)
- **è¶…æ ‡**: 700%

#### æ£€æµ‹ç²¾åº¦ï¼ˆmAP@0.5ï¼‰
- **è¦æ±‚**: > 90% (æˆ–æœªæ˜Žç¡®)
- **æœ€ä½³æ¨¡åž‹**: train8
- **åœ¨ COCO val2017 ä¸Š**: **86.14%**
- **çŠ¶æ€**: âš ï¸ æœªè¾¾ 90% è¦æ±‚ï¼ˆä½†æŽ¥è¿‘ï¼‰

#### æŽ¨ç†æ€§èƒ½ï¼ˆPCï¼‰
- **è¦æ±‚**: > 24 FPS, < 45 ms å»¶è¿Ÿ
- **PC ONNX å®žæµ‹**: **24.0 FPS, 41.60 ms**
- **çŠ¶æ€**: âœ… è¾¾æ ‡
- **è¯´æ˜Ž**: PC CPU æŽ¨ç†ï¼ŒRK3588 NPU åº”æ›´ä¼˜

**è¿›åº¦**: 95% (ç²¾åº¦ç•¥ä½Žï¼Œæ€§èƒ½è¾¾æ ‡)

---

### 4. ç½‘ç»œé€šä¿¡

#### åŒç½‘å¡åžåé‡
- **è¦æ±‚**: â‰¥ 900 Mbps
- **å®Œæˆ**: è½¯ä»¶æ–¹æ¡ˆå®Œå¤‡ï¼Œé©±åŠ¨è„šæœ¬å·²å‡†å¤‡
- **çŠ¶æ€**: â¸ï¸ å¾… RK3588 å®žæœºéªŒè¯

#### ç½‘ç»œé›†æˆ
- âœ… TCP/UDP é€šä¿¡æ¨¡å— (`src/network/`)
- âœ… æ•°æ®åºåˆ—åŒ–å’Œç½‘ç»œåè®®
- âœ… ä¸Šä½æœºæŽ¥æ”¶æœåŠ¡

**è¿›åº¦**: 80% (ä»£ç å®Œæˆï¼Œç¡¬ä»¶éªŒè¯å¾…æœº)

---

## ðŸ“Š æ ¸å¿ƒæ•°æ®æŒ‡æ ‡

### å½“å‰é”å®šçš„æ•°æ®

| æŒ‡æ ‡ | å€¼ | æ¥æº | å¯ä¿¡åº¦ |
|------|---|----|--------|
| **mAP@0.5** | 86.14% | train8 è®­ç»ƒç»“æžœ | â­â­â­â­â­ |
| **mAP@0.5:0.95** | 61.28% | train8 è®­ç»ƒç»“æžœ | â­â­â­â­â­ |
| **æ£€æµ‹ç±»åˆ«** | 80 | COCO æ•°æ®é›† | â­â­â­â­â­ |
| **PC FPS** | 24.0 | ONNX CPU å®žæµ‹ | â­â­â­â­ |
| **PC å»¶è¿Ÿ** | 41.60 ms | ONNX CPU å®žæµ‹ | â­â­â­â­ |
| **æ¨¡åž‹å¤§å°** | 4.7 MB | best.pt | â­â­â­â­â­ |

### å¾…éªŒè¯çš„æ•°æ®ï¼ˆç¡¬ä»¶åˆ°ä½åŽï¼‰

| æŒ‡æ ‡ | é¢„æœŸå€¼ | éªŒè¯æ–¹æ³• |
|------|--------|---------|
| **RK3588 NPU FPS** | 25-50 | å®žæœº RKNN æŽ¨ç† |
| **RK3588 å»¶è¿Ÿ** | 20-40 ms | å®žæœº RKNN æŽ¨ç† |
| **ç½‘ç»œåžåé‡** | â‰¥ 900 Mbps | iperf3 ç½‘ç»œæµ‹è¯• |
| **æ‘„åƒå¤´å¸§çŽ‡** | 1080P@30fps | é‡‡é›†éªŒè¯ |

---

## âœ… ä»£ç è´¨é‡

### å•å…ƒæµ‹è¯•
- âœ… 40+ æµ‹è¯•ç”¨ä¾‹
- âœ… 88-100% ä»£ç è¦†ç›–çŽ‡
- âœ… æ¶µç›–é…ç½®ã€å¼‚å¸¸ã€é¢„å¤„ç†ã€å·¥å…·å‡½æ•°

### ä»£ç è§„èŒƒ
- âœ… ç±»åž‹æç¤ºå®Œæ•´
- âœ… å¼‚å¸¸å¤„ç†å®Œå–„
- âœ… æ–‡æ¡£æ³¨é‡Šè¯¦ç»†
- âœ… éµå¾ª PEP 8 è§„èŒƒ

### å·¥ç¨‹å®žè·µ
- âœ… Git ç‰ˆæœ¬ç®¡ç†
- âœ… æ¨¡å—åŒ–è®¾è®¡
- âœ… é…ç½®æ–‡ä»¶åˆ†ç¦»
- âœ… æ—¥å¿—ç³»ç»Ÿå®Œå¤‡

---

## ðŸ“ é¡¹ç›®ç»„ç»‡

```
rk-app/
â”œâ”€â”€ apps/                      # Python æŽ¨ç†åº”ç”¨
â”‚   â”œâ”€â”€ config.py             # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ exceptions.py         # è‡ªå®šä¹‰å¼‚å¸¸
â”‚   â”œâ”€â”€ logger.py             # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ yolov8_rknn_infer.py  # RKNN æŽ¨ç†å™¨
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ preprocessing.py  # å›¾åƒé¢„å¤„ç†
â”‚       â””â”€â”€ yolo_post.py      # åŽå¤„ç†
â”‚
â”œâ”€â”€ tools/                      # æ¨¡åž‹è½¬æ¢å·¥å…·
â”‚   â”œâ”€â”€ export_yolov8_to_onnx.py    # ONNX å¯¼å‡º
â”‚   â”œâ”€â”€ convert_onnx_to_rknn.py     # RKNN è½¬æ¢
â”‚   â””â”€â”€ aggregate.py                # æ•°æ®èšåˆ
â”‚
â”œâ”€â”€ scripts/                     # éƒ¨ç½²å’Œæµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ run_rknn_sim.py            # PC æ¨¡æ‹Ÿå™¨
â”‚   â”œâ”€â”€ compare_onnx_rknn.py       # ç²¾åº¦å¯¹æ¯”
â”‚   â”œâ”€â”€ deploy/
â”‚   â”‚   â”œâ”€â”€ rk3588_run.sh          # ä¸€é”®è¿è¡Œ
â”‚   â”‚   â””â”€â”€ deploy_to_board.sh     # SSH éƒ¨ç½²
â”‚   â””â”€â”€ run_bench.sh               # åŸºå‡†æµ‹è¯•
â”‚
â”œâ”€â”€ artifacts/                   # è¾“å‡ºç»“æžœ
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ best.pt             # PyTorch æ¨¡åž‹
â”‚   â”‚   â”œâ”€â”€ best.onnx           # ONNX æ¨¡åž‹
â”‚   â”‚   â””â”€â”€ best.rknn           # RKNN æ¨¡åž‹
â”‚   â””â”€â”€ onnx_rknn_comparison.json  # ç²¾åº¦å¯¹æ¯”
â”‚
â”œâ”€â”€ datasets/coco/              # COCO æ•°æ®é›†
â”‚   â”œâ”€â”€ train2017/              # 118K è®­ç»ƒå›¾åƒ
â”‚   â”œâ”€â”€ val2017/                # 5K éªŒè¯å›¾åƒ
â”‚   â””â”€â”€ calib_images/           # 300 æ ¡å‡†å›¾åƒ
â”‚
â”œâ”€â”€ docs/                        # æ–‡æ¡£
â”‚   â”œâ”€â”€ RK3588_VALIDATION_CHECKLIST.md    # éªŒæ”¶æ¸…å•
â”‚   â”œâ”€â”€ GRADUATION_PROJECT_COMPLIANCE.md  # ç¬¦åˆæ€§åˆ†æž
â”‚   â”œâ”€â”€ RK3588è¡Œäººæ£€æµ‹_æ¯•ä¸šè®¾è®¡è¯´æ˜Žä¹¦.docx # è®¾è®¡è¯´æ˜Žä¹¦
â”‚   â””â”€â”€ å¼€é¢˜æŠ¥å‘Š.docx
â”‚
â””â”€â”€ tests/                       # å•å…ƒæµ‹è¯•
    â””â”€â”€ unit/
        â”œâ”€â”€ test_config.py
        â”œâ”€â”€ test_exceptions.py
        â”œâ”€â”€ test_preprocessing.py
        â””â”€â”€ test_aggregate.py
```

---

## ðŸ“ˆ é¡¹ç›®è¿›åº¦è¯„ä¼°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è½¯ä»¶å¼€å‘å®Œæˆåº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 90%   â”‚
â”‚ PC éªŒè¯å®Œæˆåº¦:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%  â”‚
â”‚ ç¡¬ä»¶éªŒè¯å®Œæˆåº¦: â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0%   â”‚
â”‚ æ–‡æ¡£å®Œæˆåº¦:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 90%   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ€»ä½“è¿›åº¦: çº¦ 70%
```

---

## ðŸŽ¯ æŽ¥ä¸‹æ¥çš„å·¥ä½œ

### è¿™ä¸¤ä¸ªæœˆï¼ˆæ— ç¡¬ä»¶æ—¶ï¼‰
- [x] é”å®š mAP æ•°å€¼ (86.14%)
- [x] å®Œæˆ PC æ€§èƒ½å®žæµ‹ (24 FPS)
- [ ] å®Œå–„ç¡¬ä»¶éƒ¨ç½²æ–¹æ¡ˆæ–‡æ¡£
- [ ] å‡†å¤‡è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
- [ ] å®Œæˆè®ºæ–‡åˆç¨¿ï¼ˆç•™ç¡¬ä»¶æ•°æ®ç©ºç™½ï¼‰

### ç¡¬ä»¶åˆ°ä½åŽï¼ˆçº¦ 1 å‘¨ï¼‰
- [ ] éƒ¨ç½²æ¨¡åž‹åˆ° RK3588
- [ ] æ‰§è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] éªŒè¯åŒç½‘å¡é©±åŠ¨
- [ ] æµ‹è¯•æ‘„åƒå¤´é›†æˆ
- [ ] è¡¥å……ç¡¬ä»¶éªŒè¯æ•°æ®åˆ°è®ºæ–‡
- [ ] å®Œæˆæ¯•ä¸šè®¾è®¡ç­”è¾©å‡†å¤‡

---

## ðŸ“ è®ºæ–‡ç« èŠ‚å¯¹åº”

| ç« èŠ‚ | æ–‡ä»¶ | å®Œæˆåº¦ |
|------|------|--------|
| ç¬¬ 1 ç« ï¼šç»ªè®º | `docs/thesis_chapter_*` | 100% |
| ç¬¬ 2 ç« ï¼šç³»ç»Ÿè®¾è®¡ | `thesis_chapter_system_design.md` | 100% |
| ç¬¬ 3 ç« ï¼šæ¨¡åž‹ä¼˜åŒ– | `thesis_chapter_model_optimization.md` | 95% |
| ç¬¬ 4 ç« ï¼šNPU éƒ¨ç½² | `thesis_chapter_deployment.md` | 95% |
| ç¬¬ 5 ç« ï¼šæ€§èƒ½åˆ†æž | `thesis_chapter_performance.md` | 80% |
| ç¬¬ 6 ç« ï¼šç¡¬ä»¶éªŒè¯ | (å¾…è¡¥å……) | 10% |
| é™„å½•ï¼šæµ‹è¯•æ•°æ® | `PC_PERFORMANCE_REPORT.md` | 100% |

---

## ðŸ† é¡¹ç›®äº®ç‚¹

1. **å®Œæ•´çš„å·¥ç¨‹å®žè·µ**
   - æ¨¡å—åŒ–æž¶æž„
   - å®Œå–„çš„å•å…ƒæµ‹è¯•
   - æ¸…æ™°çš„æ–‡æ¡£

2. **æ‰Žå®žçš„æ•°æ®æ”¯æŒ**
   - å®˜æ–¹ YOLO éªŒè¯çš„ mAP (86.14%)
   - å®žæµ‹çš„ PC æ€§èƒ½ (24 FPS)
   - å®Œæ•´çš„è½¬æ¢å·¥å…·é“¾

3. **å……åˆ†çš„ç¡¬ä»¶å‡†å¤‡**
   - äº¤å‰ç¼–è¯‘å·¥å…·é“¾
   - ç½‘ç»œé©±åŠ¨è„šæœ¬
   - ä¸€é”®éƒ¨ç½²è„šæœ¬
   - è¯¦ç»†çš„éªŒæ”¶æ¸…å•

4. **å‰æ²¿çš„æŠ€æœ¯æ ˆ**
   - æœ€æ–° YOLO11 æ¨¡åž‹
   - RKNN NPU åŠ é€Ÿ
   - INT8 é‡åŒ–ä¼˜åŒ–
   - åŒç½‘å¡è®¾è®¡

---

## âš ï¸ å·²çŸ¥å±€é™æ€§

1. **mAP æœªè¾¾ 90%** (86.14%)
   - å¯èƒ½éœ€è¦è¿›ä¸€æ­¥çš„æ•°æ®å¢žå¼ºæˆ–æ¨¡åž‹è°ƒä¼˜
   - ä»åœ¨å¯æŽ¥å—èŒƒå›´

2. **ç¡¬ä»¶éªŒè¯å¾…æœº**
   - æ‰€æœ‰ç¡¬ä»¶æ€§èƒ½æŒ‡æ ‡éƒ½æ˜¯ç†è®ºå€¼
   - å®žæœºæ€§èƒ½éœ€è¦ RK3588 åˆ°ä½æ‰èƒ½éªŒè¯

3. **ç½‘å¡é©±åŠ¨æ–¹æ¡ˆæœªå®žæµ‹**
   - åŸºäºŽåŒç±»äº§å“ç»éªŒ
   - å®žé™…å…¼å®¹æ€§éœ€è¦éªŒè¯

---

## ðŸ“Ž å‚è€ƒæ–‡ä»¶

- **å®˜æ–¹éªŒè¯**: `OFFICIAL_YOLO_VALIDATION.json` (å¾…ç”Ÿæˆ)
- **PC æ€§èƒ½**: `PC_PERFORMANCE_REPORT.md`
- **ç¡¬ä»¶è®¡åˆ’**: `RK3588_VALIDATION_CHECKLIST.md`
- **ç¬¦åˆæ€§åˆ†æž**: `GRADUATION_PROJECT_COMPLIANCE.md`
- **çŽ°çŠ¶åˆ†æž**: `CURRENT_STATUS_ANALYSIS.md`

---

**é¡¹ç›®æ•´ä½“è¯„ä¼°**: â­â­â­â­ (ç¼ºç¡¬ä»¶éªŒè¯)

