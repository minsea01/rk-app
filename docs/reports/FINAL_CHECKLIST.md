# ğŸš¨ RK3588è¡Œäººæ£€æµ‹é¡¹ç›®æœ€ç»ˆæ£€æŸ¥æ¸…å•

ç”Ÿæˆæ—¶é—´ï¼š2025-11-16

## âŒ å…³é”®é—®é¢˜ï¼ˆå¿…é¡»è§£å†³æ‰èƒ½ç­”è¾©ï¼‰

### 1. **mAP@0.5 >90% æœªéªŒè¯**

**é—®é¢˜ï¼š**
- å½“å‰best.rknnæ˜¯COCO 80ç±»è®­ç»ƒ
- æœªåœ¨è¡Œäººæ£€æµ‹æ•°æ®é›†ä¸ŠéªŒè¯mAP
- ä¸ç¡®å®šèƒ½å¦è¾¾åˆ°90%è¦æ±‚

**å½±å“ï¼š**
- ğŸ”´ ç­”è¾©æ—¶æ— æ³•è¯æ˜æ»¡è¶³æ¯•ä¸šè¦æ±‚
- ğŸ”´ å¯èƒ½è¢«è¦æ±‚è¡¥å……å®éªŒ

**ä¼˜å…ˆçº§ï¼š** ğŸ”´ P0 - **ç«‹å³æ‰§è¡Œï¼ˆä»Šå¤©/æ˜å¤©ï¼‰**

**è§£å†³æ­¥éª¤ï¼š**
```bash
# Step 1: å‡†å¤‡COCO personéªŒè¯é›†ï¼ˆ1å°æ—¶ï¼‰
cd ~/rk-app
bash scripts/datasets/prepare_coco_person.sh

# Step 2: è¯„ä¼°mAP baselineï¼ˆ30åˆ†é’Ÿ-2å°æ—¶ï¼‰
source ~/yolo_env/bin/activate
export PYTHONPATH=$PWD
python scripts/evaluation/pedestrian_map_evaluator.py \
  --model artifacts/models/best.rknn \
  --model-type rknn \
  --annotations datasets/coco/annotations/person_val2017.json \
  --images datasets/coco/val2017 \
  --output artifacts/coco_person_map.json

# Step 3: æŸ¥çœ‹ç»“æœ
cat artifacts/coco_person_map.json | jq '.metrics."mAP@0.5"'

# Step 4: å¦‚æœ<90%ï¼Œå‚è€ƒ datasets/PEDESTRIAN_DATASET_GUIDE.md
# ä½¿ç”¨CityPersonsæ•°æ®é›†å¾®è°ƒï¼ˆéœ€è¦3-5å¤©ï¼‰
```

---

## âš ï¸ ä¸­ç­‰é£é™©ï¼ˆæ¿å­åˆ°æ‰‹åéªŒè¯ï¼‰

### 2. **FPS >30 æœªåœ¨æ¿ä¸ŠéªŒè¯**
- é¢„ä¼°ï¼š25-35 FPS
- é£é™©ï¼šå®é™…å¯èƒ½<30
- ç¼“è§£ï¼šå¯é™åˆ†è¾¨ç‡è‡³416Ã—416

### 3. **åŒåƒå…†â‰¥900Mbps æœªéªŒè¯**
- è„šæœ¬å·²å‡†å¤‡
- é£é™©ï¼šé©±åŠ¨/å‚æ•°é…ç½®é—®é¢˜
- ç¼“è§£ï¼šscripts/network/ ä¸‹æœ‰é…ç½®è„šæœ¬

---

## âœ… å·²å®Œæˆ

- âœ… æ¨¡å‹å¤§å° <5MB (4.7MB)
- âœ… ä»£ç å®Œæ•´ï¼ˆ7æ¨¡å—+40æµ‹è¯•ï¼‰
- âœ… éƒ¨ç½²åŒ…ready (2.5MB)
- âœ… å¥åº·æ£€æŸ¥è„šæœ¬
- âœ… è®ºæ–‡5ç« +å¼€é¢˜

---

## ğŸ“‹ ç«‹å³å¾…åŠï¼ˆä¼˜å…ˆçº§æ’åºï¼‰

### P0 - ä»Šå¤©/æ˜å¤©å¿…åš
- [ ] è¿è¡ŒCOCO person mAPè¯„ä¼°
- [ ] ç¡®è®¤mAPæ˜¯å¦â‰¥90%
- [ ] å¦‚<90%ï¼Œå¯åŠ¨CityPersonsæ–¹æ¡ˆ

### P1 - æ¿å­åˆ°æ‰‹ç¬¬1å¤©
- [ ] scpéƒ¨ç½²åŒ…åˆ°æ¿å­
- [ ] è¿è¡Œboard_health_check.sh
- [ ] é¦–æ¬¡æ¨ç†æµ‹è¯•
- [ ] FPSæ€§èƒ½æµ‹è¯•
- [ ] ç½‘ç»œååé‡æµ‹è¯•

### P2 - ç­”è¾©å‰1å‘¨
- [ ] ç”Ÿæˆæ€§èƒ½æŠ¥å‘Šï¼ˆmAP+FPS+ç½‘ç»œï¼‰
- [ ] å‡†å¤‡æ¼”ç¤ºææ–™
- [ ] æ›´æ–°è®ºæ–‡ç¬¬6ç« å®éªŒç»“æœ

---

## ğŸ¯ ç­”è¾©ç¡¬æ€§æŒ‡æ ‡çŠ¶æ€

| æŒ‡æ ‡ | è¦æ±‚ | å½“å‰çŠ¶æ€ | ä¼˜å…ˆçº§ |
|------|------|---------|--------|
| æ¨¡å‹å¤§å° | <5MB | âœ… 4.7MB | - |
| FPS | >30 | â¸ï¸ ä¼°25-35 | P1 |
| mAP@0.5 | >90% | âŒ æœªéªŒè¯ | ğŸ”´ P0 |
| ç½‘ç»œåå | â‰¥900Mbps | â¸ï¸ æœªæµ‹ | P1 |

---

## ğŸš€ é£é™©è¯„ä¼°

### æœ€ä½³æƒ…å†µï¼ˆ70%æ¦‚ç‡ï¼‰
- COCO person mAP=80%+ â†’ å¾®è°ƒCityPersonsè¾¾åˆ°90%
- æ—¶é—´å……è¶³ï¼Œé¡ºåˆ©ç­”è¾©

### ä¸­ç­‰æƒ…å†µï¼ˆ25%æ¦‚ç‡ï¼‰
- COCO person mAP=70-80% â†’ éœ€CityPersonså¾®è°ƒï¼ˆ+3-5å¤©ï¼‰
- æ¿ä¸ŠFPSç•¥ä½ â†’ éœ€ä¼˜åŒ–

### æœ€åæƒ…å†µï¼ˆ5%æ¦‚ç‡ï¼‰
- mAPæ— æ³•è¾¾æ ‡ â†’ éœ€é‡å¤§è¿”å·¥
- å¤šä¸ªæŒ‡æ ‡ä¸è¾¾æ ‡ â†’ å»¶æœŸç­”è¾©

---

## ğŸ“ è¯šå®å»ºè®®

**ä½ å½“å‰æœ€å¤§çš„é£é™©æ˜¯mAPéªŒè¯ç¼ºå¤±ã€‚**

**å»ºè®®è¡ŒåŠ¨ï¼š**
1. **ä¸è¦ç­‰æ¿å­**ï¼Œç°åœ¨å°±åœ¨PCä¸Šè·‘COCO person mAP
2. **å¦‚æœ<90%**ï¼Œç«‹å³å¯åŠ¨CityPersonsæ–¹æ¡ˆï¼ˆéœ€5-7å¤©ï¼‰
3. **å¦‚æœæ¿å­12æœˆåˆ°**ï¼Œæ—¶é—´å……è¶³
4. **å¦‚æœæ¿å­1æœˆæ‰åˆ°**ï¼ŒmAPéªŒè¯å°±å¾ˆç´§å¼ 

**æ—¶é—´çº¿ï¼š**
- ä»Šå¤©/æ˜å¤©ï¼šCOCO person mAP baseline (2å°æ—¶)
- å¦‚éœ€å¾®è°ƒï¼šDay 1-3ä¸‹è½½CityPersons + Day 4-5å¾®è°ƒ + Day 6è¯„ä¼°
- æ€»è®¡ï¼šæœ€å¤š7å¤©è§£å†³mAPé—®é¢˜

**ä¸è§£å†³mAPéªŒè¯ï¼Œç­”è¾©æ—¶ä¼šè¢«è´¨ç–‘ï¼š**
- "ä½ å¦‚ä½•è¯æ˜æ¨¡å‹è¾¾åˆ°90% mAPï¼Ÿ"
- "ä½ çš„å®éªŒæ•°æ®åœ¨å“ªé‡Œï¼Ÿ"
- "ä¸ºä»€ä¹ˆæ²¡æœ‰mAPæŠ¥å‘Šï¼Ÿ"

---

## ğŸ“ ä¸‹ä¸€æ­¥

**ç«‹å³æ‰§è¡Œï¼ˆåœ¨ä½ æœ¬æœºï¼Œä¸æ˜¯Claude on webï¼‰ï¼š**
```bash
cd ~/rk-app
git pull origin claude/rk3588-pedestrian-detection-01KpGGhptnTxNA2MRrmzeYPN
bash scripts/datasets/prepare_coco_person.sh
```

æ‰§è¡Œå®Œåå‘Šè¯‰æˆ‘ç»“æœï¼Œæˆ‘å¸®ä½ åˆ†æä¸‹ä¸€æ­¥ã€‚
