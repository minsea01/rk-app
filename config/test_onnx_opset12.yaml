# Pipeline integrity test configuration (ONNX opset 12)

# Inference engine configuration
engine:
  type: onnx
  model: artifacts/models/yolo11n_opset12_416.onnx
  input_size: [416, 416]

nms:
  conf_thres: 0.5
  iou_thres: 0.45
  topk: 200
  min_box_size: 20
  aspect_ratio_range: [0.3, 5.0]

# Classes configuration
classes:
  num_classes: 80  # COCO dataset
  names:
    - person
    - bicycle
    - car
  conf_threshold: 0.5
  nms_threshold: 0.45

# Postprocessing configuration
postprocess:
  strides: [8, 16, 32]
  num_anchors: 3
  reg_max: 16
  conf_threshold: 0.5
  nms_threshold: 0.45
  max_detections: 100
  min_box_size: 20
  aspect_ratio_range: [0.3, 5.0]

# Input source configuration (use folder with single image)
source:
  type: folder
  uri: "assets"

# Output configuration
output:
  type: file
  file:
    path: "output/test_detections.json"
  display:
    enable: false

# Performance configuration
performance:
  num_threads: 4
  batch_size: 1
  queue_size: 4
  target_fps: 30

# Logging configuration
logging:
  level: info
  console: true
