{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "x86: configure",
      "type": "shell",
      "command": "cmake --preset x86-debug"
    },
    {
      "label": "x86: build",
      "type": "shell",
      "command": "cmake --build --preset x86-debug -j",
      "dependsOn": "x86: configure"
    },
    {
      "label": "x86: install",
      "type": "shell",
      "command": "cmake --install build/x86-debug",
      "dependsOn": "x86: build"
    },
    {
      "label": "x86: run",
      "type": "shell",
      "command": "./out/x86/bin/rk_app",
      "dependsOn": "x86: install",
      "group": { "kind": "build", "isDefault": true },
      "presentation": {
        "reveal": "always",
        "focus": true,
        "panel": "dedicated",
        "showReuseMessage": false,
        "clear": false
      }
    },
    {
      "label": "x86: bench (cpp)",
      "type": "shell",
      "command": "./build/x86-debug/pid_bench --impl=cpp --plant=second --dt=0.001 --steps=5000 --kp=1.2 --ki=0.3 --kd=0.02",
      "dependsOn": "x86: build",
      "options": { "env": { "ASAN_OPTIONS": "detect_leaks=0" } },
      "group": "test",
      "presentation": { "reveal": "always", "panel": "shared" }
    },
    {
      "label": "x86: bench (c)",
      "type": "shell",
      "command": "./build/x86-debug/pid_bench --impl=c --plant=second --dt=0.001 --steps=5000 --kp=1.2 --ki=0.3 --kd=0.02",
      "dependsOn": "x86: build",
      "options": { "env": { "ASAN_OPTIONS": "detect_leaks=0" } },
      "group": "test",
      "presentation": { "reveal": "always", "panel": "shared" }
    },
    {
      "label": "x86: auto-tune PID (cpp)",
      "type": "shell",
      "command": "python3 scripts/auto_tune_pid.py --impl cpp --plant second --steps 5000 --dt 0.001 --sp 1 --wn 20 --zeta 0.7 --K 1 --umin -500 --umax 500 --mode grid --kp-min 1.0 --kp-max 4.5 --kp-steps 8 --ki-min 0.2 --ki-max 2.0 --ki-steps 7 --kd-min 0.00 --kd-max 0.20 --kd-steps 6 --top 10",
      "dependsOn": "x86: build",
      "group": "test",
      "presentation": { "reveal": "always", "panel": "shared" }
    }
  ]
}

